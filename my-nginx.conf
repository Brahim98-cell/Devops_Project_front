
pid /tmp/nginx.pid;

events {
    worker_connections 1024;
      multi_accept on;

}

http {
  types {
     include    /etc/nginx/mime.types;
    # what is the default one
    default_type  application/octet-stream;

        text/html html htm shtml;
        text/css css;
        text/javascript js;
        application/javascript js;
        application/json json;
        image/gif gif;
        image/jpeg jpeg jpg;
        image/png png;
        image/webp webp;
        application/xml xml;
        application/rss+xml xml;
        application/atom+xml xml;
        application/rdf+xml xml;
        application/xhtml+xml xhtml;
        application/x-javascript js;
    }
    server {
        listen 80;
        server_name localhost;

        location / {
            root /usr/share/nginx/html/summer-workshop-angular;
            index index.html;
            try_files $uri $uri/ /index.html;
        }

     location /metrics {
            stub_status on;
        }


     # Media: images, icons, video, audio, HTC
        location ~* \.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|htc)$ {
          expires 1M;
          access_log off;
          add_header Cache-Control "public";
        }

        # Javascript and CSS files
        location ~* \.(?:css|js)$ {
            try_files $uri =404;
            expires 1y;
            access_log off;
            add_header Cache-Control "public";
        }

        # Any route containing a file extension (e.g. /devicesfile.js)
        location ~ ^.+\..+$ {
            try_files $uri =404;
        }

    
    }
}
